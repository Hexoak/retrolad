<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>retrolad.com - canvas</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="content">

        <div class="header">
          <h1>
            <a href="http://retrolad.com/"><img src="../../src/retrolad banner.png" alt=""></a>
            <p></p>
          </h1>
        </div>
        
        <div class="navbar">
          
          <a href="../../art.htm">art</a>
          <a href="../../canvas.htm">canvas</a>
          <a href="../../phaser.htm">phaser</a>
          <a href="../../tools.htm">tools</a>
          <a href="../../contact.htm" class="right">contact</a>
        </div>
        
            <div class="row">
             
                <div class="leftcolumn">
                  <div class="card">
                   
                    <h1>
                      "Wooded Crypt" - 10 colors, Gimp, Canvas
                    </h1>
                    <script src='./CanvasStack-2v01.js'></script>
                    <canvas id = 'can'></canvas> 
                    <script src = './woodedCrypt.js'></script> 
                    <p> <br><br></p>

                    

                

                  </div>

                  
                  <h1>code</h1>
                  <div class="codecard">
                  <p> <br><br>
                    var canvas = document.getElementById('woodedCrypt');<br>
                    var c = canvas.getContext('2d');<br>
                    canvas.width  = 600 ;<br>
                    canvas.height = 300;<br>
                    c.scale(2,2);<br>
                    
                    //Load and set image files<br>
                    var img_lay1 = new Image();<br>
                    img_lay1.src = './layer1_BG.gif'<br>
                    var img_lay2 = new Image();<br>
                    img_lay2.src = './layer2_clouds.gif';<br>
                    var img_lay3 = new Image();<br>
                    img_lay3.src = '.layer3_clouds2.gif';<br>
                    var img_lay4 = new Image();<br>
                    img_lay4.src = './layer4.gif';<br>
                    var img_lay5 = new Image();<br>
                    img_lay5.src = './layer5.gif';<br>
                    var img_lay6 = new Image();<br>
                    img_lay6.src = './layer6_fog.gif';<br>
                    var img_lay7 = new Image();<br>
                    img_lay7.src = './layer7_foreground.gif';<br>
                    
                    //layer 1<br>
                    var canvas_stack = new CanvasStack('can');<br>
                    var layer1 = canvas_stack.createLayer();<br>
                    var layer1_ctx = document.getElementById(layer1).getContext('2d');<br>
                    //layer2<br>
                    var layer2 = canvas_stack.createLayer();<br>
                    var layer2_ctx = document.getElementById(layer2).getContext('2d');<br>
                    //layer3<br>
                    var layer3 = canvas_stack.createLayer();<br>
                    var layer3_ctx = document.getElementById(layer3).getContext('2d');<br>
                    //layer4<br>
                    var layer4 = canvas_stack.createLayer();<br>
                    var layer4_ctx = document.getElementById(layer4).getContext('2d');<br>
                    //layer5<br>
                    var layer5 = canvas_stack.createLayer();<br>
                    var layer5_ctx = document.getElementById(layer5).getContext('2d');<br>
                    //layer6<br>
                    var layer6 = canvas_stack.createLayer();<br>
                    var layer6_ctx = document.getElementById(layer6).getContext('2d');<br>
                    //layer7<br>
                    var layer7 = canvas_stack.createLayer();<br>
                    var layer7_ctx = document.getElementById(layer7).getContext('2d');<br>
                    
                    //variables<br>
                    var x1 = .0125;<br>
                    var x2 = .125;<br>
                    var x3 = .125;<br>
                    var dx1 = .025;<br>
                    var dx2= .05;<br>
                    var dx3= .25;<br>
                    var y3 = .15;<br>
                    var y1 = .15<br>
                    var y2 = .15;<br>
                    var dy1 = .01;<br>
                    var dy2 = .01;<br>
                    var dy3 = .01;<br>
                    
                        //Draw layers<br>
                        this.draw = function(){<br>
                        layer1_ctx.drawImage(img_lay1, 0,0,600,300);<br>
                        layer2_ctx.drawImage(img_lay2, x1,y1,600,300);<br>
                        layer3_ctx.drawImage(img_lay3, x2,y2,600,300);<br>
                        layer4_ctx.drawImage(img_lay4, 0,0,600,300);<br>
                        layer5_ctx.drawImage(img_lay5, 0,0,600,300);<br>
                        layer6_ctx.drawImage(img_lay6, x3,y3,600,300);<br>
                        layer7_ctx.drawImage(img_lay7, 0,0,600,300);<br>
                        
                        //add anim vars here    <br>
                        //console.log(x3);<br>
                        x1+=dx1/2;<br>
                        y1+=dy1/2;<br>
                        x2+=dx2/2;<br>
                        y2+=dy2/2;<br>
                        x3+=dx3/2;<br>
                        y3+=dy3/2;<br>
                    
                        //mooncloud<br>
                        if (((x1 > 5)) || ((x1 < -5))){<br>
                            dx1=-dx1;<br>
                            }<br>
                        if (((y1 > 5) || (y1 < -1))){<br>
                            dy1=-dy1    <br>
                            }<br>
                        if (((x2 > 5)) || ((x2 < -5))){<br>
                            dx2=-dx2;<br>
                            }<br>
                        if (((y2 > 2) || (y2 < -2))){<br>
                            dy2=-dy2<br>
                            }<br>
                        //Fog Motion<br>
                        if (((x3 > 20)) || ((x3 < -1))){<br>
                            dx3=-dx3;<br>
                            }<br>
                        if (((y3 > 5) || (y3 < -1))){<br>
                            dy3=-dy3<br>
                            }<br>
                        if ((x3 > 12) && (x3 < 15)){<br>
                            layer7_ctx.fillRect(196,135,1,1);<br>
                            layer7_ctx.fillRect(198,135,1,1);<br>
                            }<br>
                        if ((x3 > 1) && (x3 < 4)){<br>
                            layer7_ctx.fillRect(283,140,1,1);<br>
                            layer7_ctx.fillRect(285,140,1,1);<br>
                            }<br>
                        }<br>
                        //animations<br>
                    function anim (){<br>
                        requestAnimationFrame(anim);<br>
                        c.clearRect(0, 0, innerWidth, innerHeight);<br>
                        layer1_ctx.clearRect(0, 0, innerWidth, innerHeight);<br>
                        layer2_ctx.clearRect(0, 0, innerWidth, innerHeight);<br>
                        layer3_ctx.clearRect(0, 0, innerWidth, innerHeight);<br>
                        layer4_ctx.clearRect(0, 0, innerWidth, innerHeight);<br>
                        layer5_ctx.clearRect(0, 0, innerWidth, innerHeight);<br>
                        layer6_ctx.clearRect(0, 0, innerWidth, innerHeight);<br>
                        layer7_ctx.clearRect(0, 0, innerWidth, innerHeight);<br>
                    
                        this.draw();<br>
                        //console.log('anim');<br>
                    }<br>
                        anim();<br>
                </p>

                  </div>
                </div>
                
        
                <div class="rightcolumn">
                  <div class="card">
                    <!-- <h2>About Me</h2>
                    <div class="fakeimg" style="height:100px;">Image</div>
                    <p>Some text </p> -->
                  </div>
                  <div class="card">
                    <!-- <h3>Popular Post</h3>
                    <div class="fakeimg">Image</div><br>
                    <div class="fakeimg">Image</div><br>
                    <div class="fakeimg">Image</div> -->
                  </div>
                  <div class="card">
                    <!-- <h3>Follow Me</h3>
                    <p>Some text..</p> -->
                  </div>
                </div>
              </div>
              
              <div class="footer">
                <h1></h1>
                <p>
                  <a href=http://retrolad.com>retrolad.com - Pixel art and resources</a>
                </p>
              </div>
            <div>
        

</body>
</html>