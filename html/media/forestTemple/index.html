<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>retrolad.com - pixel art and resources</title>
    <link rel="stylesheet" href="../../../style.css">
    <script src="//cdn.jsdelivr.net/npm/phaser@3.24.1/dist/phaser.min.js"></script>
    
</head>

<body>
    <!-- Load an icon library to show a hamburger menu (bars) on small screens -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Top Navigation Menu -->
    
    <div class="topnav">
        <a href="http://retrolad.com/"><img src="../../../src/8bit_retrolad.gif"></a>
    
  <!-- Navigation links (hidden by default) -->
  <div id="myLinks">
    <a href="../../art/art.html">ART</a>
    <a href="../../games/phaser.html">GAMES</a>
    <a href="../../media/media.html">MEDIA</a>
    <a href="../../tools/tools.html">TOOLS</a>
    <a href="../../contact/contact.html" class="right">CONTACT</a>
  </div>
  <!-- "Hamburger menu" / "Bar icon" to toggle the navigation links -->
  <a href="javascript:void(0);" class="icon" onclick="menuMobile()">
    <i class="fa fa-bars"></i>
  </a>
</div><html>
    <head>

    </head>
    <body>
        <br><br>
        <div id="game">
        </div>

        <script>

            const phaserConfig = {
                type: Phaser.AUTO,
                parent: "game",
                width: 640,
                height: 360,
                backgroundColor: "#1a1a1a",
                scene: {
                    init: initScene,
                    preload: preloadScene,
                    create: createScene,
                    update: updateScene,

                }
            };

            const game = new Phaser.Game(phaserConfig);    

function initScene() { }
function preloadScene() {
    this.load.image("l1", "./src/1_fore.gif");
    this.load.image("l2", "./src/2_midfor.gif");
    this.load.image("l3", "./src/3_fog.png");
    this.load.image("l4", "./src/4_midfore1.gif");
    this.load.image("l5", "./src/5_temple.gif");
    this.load.image("l6", "./src/6_midback.gif");
    this.load.image("l7", "./src/7_fog.png");
    this.load.image("l8", "./src/8_back.gif");
    this.load.image("l9", "./src/9_horz.gif");
    this.load.image("l10", "./src/10_bg.gif");

}
function createScene() {

bg10 = this.add.tileSprite(320, 180, 640, 360, "l10");
bg9 = this.add.tileSprite(320, 180, 640, 360, "l9");
bg8 = this.add.tileSprite(320, 235, 640, 360, "l8");
bg7 = this.add.tileSprite(320, 235, 640, 360, "l7");
bg6 = this.add.tileSprite(320, 170, 640, 360, "l6");
bg5 = this.add.tileSprite(365, 185, 640, 360, "l5");
bg4 = this.add.tileSprite(320, 180, 640, 360, "l4");
bg3 = this.add.tileSprite(320, 180, 640, 360, "l3");
bg2 = this.add.tileSprite(320, 180, 640, 360, "l2");
bg1 = this.add.tileSprite(320, 180, 640, 360, "l1");     

//**camera - Init and follow player */
const camera = this.cameras.main;
this.cameras.main.zoom = 1;
camera.roundPixels = false;
//camera.startFollow(player);
//camera.startFollow(player, [false], [1], [1], [0], [0]);
camera.setBounds(0, 0, 640, 360);

this.i = 1;

}
function updateScene() {
    
    // bg1.tilePositionX += 0.60;
    // bg2.tilePositionX += 0.30;
     bg3.tilePositionX += 0.425;
     bg7.tilePositionX += 0.35;

    //player.anims.play('left', true);


    var cam = this.cameras.main;
        //cam.pan(300, 300, 300, 'Power2');
        
        this.i++;
        if (this.i > 100){
        cam.zoomTo(1,10000)
        cam.pan(355, 150, 10000, 'Power2');
        }
        if (this.i > 150){
        cam.zoomTo(1.25,10000)
        cam.pan(375, 190, 10000, 'Power2');
        }
        if (600 < this.i < 900){
        cam.zoomTo(1.25,10000)
        cam.pan(400, 270, 10000, 'Power2');
        }
        if (901 < this.i < 1800){
        cam.zoomTo(1,10000)
        cam.pan(360, 200, 10000, 'Power2');
        }
        if (this.i > 1800){
            this.i = 1;
        }
        
   console.log(this.i) 

}


   
        window.onscroll = function() {navSticky()};
    
    var navbar = document.getElementById("topnav");
    var sticky = navbar.offsetTop;
    
    function navSticky() {
      if (window.pageYOffset >= sticky) {
        navbar.classList.add("sticky")
      } else {
        navbar.classList.remove("sticky");
      }
    }

    /* Toggle between showing and hiding the navigation menu links when the user clicks on the hamburger menu / bar icon */
    function menuMobile() {
    var x = document.getElementById("myLinks");
    if (x.style.display === "block") {
    x.style.display = "none";
       } else {
    x.style.display = "block";
    }
    }

    
    </script>
<br><br>

<div>
    <h1>Forest Temple</h1>
    <p>Rework of earlier art piece. Resized and ported to Phaser.io <br><br>
        Added Camera movements and more robust Fog effects.
    </p>
</body>
</html>

</body>
</html>
    </body>
</html>